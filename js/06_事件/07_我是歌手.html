<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{margin: 0;padding: 0}
		li{list-style: none;}
		.list{
			margin: 0 auto;
			width: 500px;
		}
		.list li+li span{
			float: left;
			width: 200px;
			height: 50px;
			background: skyblue;
		}
		.list li+li span:last-child{
			width: 100px;
			background: orange;
		}
	</style>
</head>
<body>
	<ul class="list">
		<li>
			<label for="singer">歌手</label>
			<input type="text" id="singer">
			<label for="song">歌曲</label>
			<input type="text" id="song">
			<input type="button" value="添加" id="add">
		</li>
		<li>
			<span>歌手</span>
			<span>歌曲</span>
			<span>操作</span>
		</li>
		<li>
			<span>张杰</span>
			<span>最美的太阳</span>
			<span>删除</span>
		</li>
		<li>
			<span>华晨宇</span>
			<span>滑板鞋</span>
			<span>删除</span>
		</li>
	</ul>
	<script type="text/javascript">
		// 一开始有些数据 当我们点击删除的时候 触发删除
		var dels = document.querySelectorAll('.list li+li+li span:last-child')
		console.log(dels)
		for (var i = 0; i < dels.length; i++) {
			dels[i].onclick = function () {
				this.parentNode.parentNode.removeChild(this.parentNode)
			}
		}

		var singer = document.querySelector("#singer");
		var song = document.querySelector('#song');
		var add = document.querySelector('#add');
		var ul = document.querySelector('.list');

		add.onclick = function () {
			// 当我们点击按钮的时候 先判断输入框内容不能为空
			var singerText = singer.value;
			var songText = song.value;
			if (singerText == ""||songText == "") {
				alert("格式错误，请重新输入")
			}else{
				// 动态创建是三个span
				var singerSpan = document.createElement('span');
				var songSpan = document.createElement('span');
				var delSpan = document.createElement('span');
				var li = document.createElement('li');

				singerSpan.innerHTML = singerText;
				songSpan.innerHTML = songText;
				delSpan.innerHTML = "删除";

				li.appendChild(singerSpan)
				li.appendChild(songSpan)
				li.appendChild(delSpan)

				ul.appendChild(li)
				delSpan.onclick = function () {
					this.parentNode.parentNode.removeChild(this.parentNode)
				}
			}
			singer.value = "";
			songText.value = "";
		}
	</script>
</body>
</html>